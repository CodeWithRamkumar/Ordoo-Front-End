import{a as B}from"./chunk-DAIEWIJF.js";import{A as c,B as g,Fb as O,Ga as k,Ha as y,Jb as E,La as P,M as m,Mb as L,Nb as W,Ob as D,P as A,R as M,V as w,aa as p,ac as V,ba as a,bb as S,ca as i,cc as F,db as I,ha as x,ia as _,ja as h,lb as T,ua as s,va as v,xa as u,ya as b,za as f}from"./chunk-L4LWGFAG.js";import"./chunk-TL5KAYV2.js";import"./chunk-XTA6VOZK.js";import"./chunk-ALL2FOAL.js";import"./chunk-7HDUECN2.js";import"./chunk-I3XFR2VW.js";import"./chunk-J7JKH43X.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-VBFW7A5V.js";function N(r,o){if(r&1){let l=x();a(0,"ion-item")(1,"ion-checkbox",9),f("ngModelChange",function(n){let e=c(l).$implicit;return b(e.enabled,n)||(e.enabled=n),g(n)}),_("ionChange",function(){let n=c(l).$implicit,e=h(2);return g(e.toggleAlarm(n))}),i(),a(2,"ion-label",10)(3,"h2"),s(4),i(),a(5,"p"),s(6),i()(),a(7,"ion-button",11),_("click",function(){let n=c(l).$implicit,e=h(2);return g(e.deleteAlarm(n.id))}),s(8," Delete "),i()()}if(r&2){let l=o.$implicit;m(),u("ngModel",l.enabled),m(3),v(l.time),m(2),v(l.label)}}function z(r,o){if(r&1&&(a(0,"ion-list"),w(1,N,9,3,"ion-item",8),i()),r&2){let l=h();m(),p("ngForOf",l.alarms)}}var K=(()=>{let o=class o{constructor(t){this.headerService=t,this.alarms=[],this.newAlarmTime="",this.newAlarmLabel=""}ngOnInit(){this.headerService.updateHeaderData({title:"Alarm",subtitle:"Set wake-up alarms",image:"alarm",imageType:"icon",showBack:!0,showMenu:!0,backNavigationUrl:"/workspace/clock"}),this.startChecking()}ngOnDestroy(){this.checkInterval&&clearInterval(this.checkInterval)}addAlarm(){this.newAlarmTime&&(this.alarms.push({id:Date.now(),time:this.newAlarmTime,label:this.newAlarmLabel||"Alarm",enabled:!0}),this.newAlarmTime="",this.newAlarmLabel="")}deleteAlarm(t){this.alarms=this.alarms.filter(n=>n.id!==t)}toggleAlarm(t){t.enabled=!t.enabled}startChecking(){this.checkInterval=setInterval(()=>{let t=new Date,n=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`;this.alarms.forEach(e=>{e.enabled&&e.time===n&&this.triggerAlarm(e)})},1e3)}triggerAlarm(t){alert(`\u23F0 ${t.label} - ${t.time}`),t.enabled=!1}};o.\u0275fac=function(n){return new(n||o)(A(B))},o.\u0275cmp=M({type:o,selectors:[["app-alarm"]],decls:14,vars:4,consts:[[1,"ion-padding"],[1,"alarm-container"],[1,"add-alarm"],["position","stacked"],["type","time",3,"ngModelChange","ngModel"],["placeholder","Alarm",3,"ngModelChange","ngModel"],["color","primary",3,"click","disabled"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngModelChange","ionChange","ngModel"],[1,"ion-margin-start"],["fill","clear","color","danger",3,"click"]],template:function(n,e){n&1&&(a(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-item")(4,"ion-label",3),s(5,"Time"),i(),a(6,"ion-input",4),f("ngModelChange",function(d){return b(e.newAlarmTime,d)||(e.newAlarmTime=d),d}),i()(),a(7,"ion-item")(8,"ion-label",3),s(9,"Label"),i(),a(10,"ion-input",5),f("ngModelChange",function(d){return b(e.newAlarmLabel,d)||(e.newAlarmLabel=d),d}),i()(),a(11,"ion-button",6),_("click",function(){return e.addAlarm()}),s(12," Add Alarm "),i()(),w(13,z,2,1,"ion-list",7),i()()),n&2&&(m(6),u("ngModel",e.newAlarmTime),m(4),u("ngModel",e.newAlarmLabel),m(),p("disabled",!e.newAlarmTime),m(2),p("ngIf",e.alarms.length>0))},dependencies:[P,k,y,T,S,I,E,O,F,L,W,D,V],styles:[".alarm-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-2xl);padding:var(--spacing-md)}.add-alarm[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);background:var(--ion-card-background);padding:var(--spacing-lg);border-radius:var(--border-radius-lg);box-shadow:0 2px 10px #0000001a}.add-alarm[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--padding-start: 0;--padding-end: 0;--border-color: var(--ion-color-light);margin-bottom:var(--spacing-sm)}.add-alarm[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: var(--border-radius-lg);height:48px;font-weight:var(--font-weight-semibold);margin-top:var(--spacing-md)}ion-list[_ngcontent-%COMP%]{background:var(--ion-card-background);border-radius:var(--border-radius-lg);box-shadow:0 2px 10px #0000001a}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: var(--ion-color-light);--padding-start: var(--spacing-md);--padding-end: var(--spacing-md)}ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:var(--font-weight-semibold);font-size:var(--font-size-xl);color:var(--ion-text-color)}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-md);color:var(--ion-color-medium)}"]});let r=o;return r})();export{K as AlarmPage};
