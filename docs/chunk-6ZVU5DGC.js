import{a as K}from"./chunk-DAIEWIJF.js";import{K as G,P as U,Q as q,T as A,W as J,a as L,b as N}from"./chunk-HVPR6RZC.js";import{A as d,B as p,C as y,Cb as z,D as C,Fb as B,Ha as O,Jb as E,Kb as D,La as k,M as s,P,R as w,V as M,Vb as F,Wb as R,aa as u,ba as o,bb as I,bc as W,ca as r,cc as j,da as g,db as V,ha as v,ia as m,ja as l,lb as H,ra as S,ua as h,va as T,xa as _,ya as x,za as b}from"./chunk-L4LWGFAG.js";import"./chunk-TL5KAYV2.js";import"./chunk-XTA6VOZK.js";import"./chunk-ALL2FOAL.js";import"./chunk-7HDUECN2.js";import"./chunk-I3XFR2VW.js";import"./chunk-J7JKH43X.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-VBFW7A5V.js";function Q(a,c){if(a&1&&(o(0,"div",19),h(1),r()),a&2){let i=l();s(),T(i.display)}}function X(a,c){if(a&1&&(o(0,"div",20),h(1),r()),a&2){let i=l();s(),T(i.getStatusLabel())}}function Y(a,c){if(a&1){let i=v();o(0,"ion-button",21),m("click",function(){d(i);let e=l();return p(e.openModal())}),g(1,"ion-icon",22),r()}}function Z(a,c){if(a&1){let i=v();o(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),h(3,"Set Timer"),r()()(),o(4,"ion-content",23)(5,"ion-input",24),b("ngModelChange",function(e){d(i);let t=l();return x(t.modalHours,e)||(t.modalHours=e),p(e)}),m("ionBlur",function(){d(i);let e=l();return p(e.validateInput("hours"))}),r(),o(6,"ion-input",25),b("ngModelChange",function(e){d(i);let t=l();return x(t.modalMinutes,e)||(t.modalMinutes=e),p(e)}),m("ionBlur",function(){d(i);let e=l();return p(e.validateInput("minutes"))}),r(),o(7,"ion-input",26),b("ngModelChange",function(e){d(i);let t=l();return x(t.modalSeconds,e)||(t.modalSeconds=e),p(e)}),m("ionBlur",function(){d(i);let e=l();return p(e.validateInput("seconds"))}),r(),o(8,"div",27)(9,"ion-button",28),m("click",function(){d(i);let e=l();return p(e.closeModal())}),h(10,"Cancel"),r(),o(11,"ion-button",29),m("click",function(){d(i);let e=l();return p(e.setTimerFromModal())}),h(12,"Set Timer"),r()()()}if(a&2){let i=l();s(5),_("ngModel",i.modalHours),s(),_("ngModel",i.modalMinutes),s(),_("ngModel",i.modalSeconds),s(4),u("disabled",i.modalHours===0&&i.modalMinutes===0&&i.modalSeconds===0)}}var me=(()=>{let c=class c{constructor(n){this.headerService=n,this.totalTime=0,this.remainingTime=0,this.display="00:00",this.isRunning=!1,this.isFinished=!1,this.circumference=2*Math.PI*96,this.dashOffset=this.circumference,this.hours=0,this.minutes=0,this.seconds=0,this.isModalOpen=!1,this.modalHours=0,this.modalMinutes=0,this.modalSeconds=0,L({play:U,pause:G,refresh:q,stop:A,add:N,timeOutline:J})}ngOnInit(){this.headerService.updateHeaderData({title:"Timer",subtitle:"Countdown timer",image:"timer",imageType:"icon",showBack:!0,showMenu:!0,backNavigationUrl:"/workspace/clock"})}ngOnDestroy(){this.interval&&clearInterval(this.interval)}setTimerFromInputs(){(this.hours>0||this.minutes>0||this.seconds>0)&&this.setTimer(this.hours,this.minutes,this.seconds)}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}setTimerFromModal(){(this.modalHours>0||this.modalMinutes>0||this.modalSeconds>0)&&(this.setTimer(this.modalHours,this.modalMinutes,this.modalSeconds),this.closeModal())}validateInput(n){n==="hours"?(this.modalHours>23&&(this.modalHours=23),this.modalHours<0&&(this.modalHours=0)):n==="minutes"?(this.modalMinutes>59&&(this.modalMinutes=59),this.modalMinutes<0&&(this.modalMinutes=0)):n==="seconds"&&(this.modalSeconds>59&&(this.modalSeconds=59),this.modalSeconds<0&&(this.modalSeconds=0))}setTimer(n,e,t){this.totalTime=n*3600+e*60+t,this.remainingTime=this.totalTime,this.isFinished=!1,this.updateDisplay()}getStatusLabel(){return this.isFinished?"Finished":this.isRunning?"Running":this.totalTime>0?"Paused":"Set Timer"}start(){this.remainingTime>0&&!this.isRunning&&(this.isRunning=!0,this.interval=setInterval(()=>{this.remainingTime--,this.updateDisplay(),this.remainingTime<=0&&this.finish()},1e3))}pause(){this.isRunning=!1,this.interval&&(clearInterval(this.interval),this.interval=null)}reset(){this.pause(),this.remainingTime=this.totalTime,this.isFinished=!1,this.updateDisplay()}clear(){this.pause(),this.totalTime=0,this.remainingTime=0,this.isFinished=!1,this.display="00:00",this.dashOffset=this.circumference}finish(){this.isRunning=!1,this.isFinished=!0,this.remainingTime=0,this.updateDisplay(),this.interval&&clearInterval(this.interval)}updateDisplay(){let n=Math.floor(this.remainingTime/3600),e=Math.floor(this.remainingTime%3600/60),t=this.remainingTime%60;if(n>0?this.display=`${n.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`:this.display=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`,this.totalTime>0){let f=(this.totalTime-this.remainingTime)/this.totalTime;this.dashOffset=this.circumference-f*this.circumference}}};c.\u0275fac=function(e){return new(e||c)(P(K))},c.\u0275cmp=w({type:c,selectors:[["app-timer"]],decls:21,vars:11,consts:[[1,"timer-container"],[1,"timer-inner-container"],[1,"timer"],[1,"timer-circle"],["width","200","height","200",1,"progress-ring"],["stroke","var(--ion-color-light)","stroke-width","4","fill","transparent","r","96","cx","100","cy","100",1,"background-circle"],["stroke","var(--ion-color-primary)","stroke-width","4","fill","transparent","r","96","cx","100","cy","100",1,"progress-ring-circle"],[1,"time-content"],["class","time-display",4,"ngIf"],["class","time-label",4,"ngIf"],["fill","clear","class","set-timer-btn",3,"click",4,"ngIf"],[1,"timer-modal-small",3,"didDismiss","isOpen"],[1,"floating-buttons"],["color","danger","fill","outline","shape","round",1,"floating-btn","side-btn",3,"click"],["name","stop"],["fill","outline","shape","round",1,"floating-btn","center-btn",3,"click","color","disabled"],[3,"name"],["color","medium","fill","outline","shape","round",1,"floating-btn","side-btn",3,"click"],["name","refresh"],[1,"time-display"],[1,"time-label"],["fill","clear",1,"set-timer-btn",3,"click"],["name","add","size","large"],[1,"ion-padding"],["type","number","labelPlacement","floating","label","Hours","fill","outline","placeholder","0",1,"common-input",3,"ngModelChange","ionBlur","ngModel"],["type","number","labelPlacement","floating","label","Minutes","fill","outline","placeholder","0",1,"common-input",3,"ngModelChange","ionBlur","ngModel"],["type","number","labelPlacement","floating","label","Seconds","fill","outline","placeholder","0",1,"common-input",3,"ngModelChange","ionBlur","ngModel"],[1,"button-group"],[1,"btn-secondary",3,"click"],["fill","solid",1,"btn-primary",3,"click","disabled"]],template:function(e,t){e&1&&(o(0,"ion-content")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),y(),o(5,"svg",4),g(6,"circle",5)(7,"circle",6),r(),C(),o(8,"div",7),M(9,Q,2,1,"div",8)(10,X,2,1,"div",9)(11,Y,2,0,"ion-button",10),o(12,"ion-modal",11),m("didDismiss",function(){return t.closeModal()}),M(13,Z,13,4,"ng-template"),r()()()(),o(14,"div",12)(15,"ion-button",13),m("click",function(){return t.pause()}),g(16,"ion-icon",14),r(),o(17,"ion-button",15),m("click",function(){return t.isRunning?t.pause():t.start()}),g(18,"ion-icon",16),r(),o(19,"ion-button",17),m("click",function(){return t.clear()}),g(20,"ion-icon",18),r()()()()()),e&2&&(s(7),S("stroke-dasharray",t.circumference)("stroke-dashoffset",t.dashOffset),s(2),u("ngIf",t.totalTime>0),s(),u("ngIf",t.totalTime>0),s(),u("ngIf",!t.totalTime),s(),u("isOpen",t.isModalOpen),s(5),u("color",t.isRunning?"warning":"success")("disabled",t.totalTime===0),s(),u("name",t.isRunning?"pause":"play"))},dependencies:[k,O,H,I,V,E,B,j,W,z,D,R,F],styles:[".timer-container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;padding:var(--spacing-md)}.timer-inner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;position:relative;box-shadow:#0000003d 0 3px 8px;border-radius:var(--border-radius-xl);background:var(--ion-card-background);padding:var(--spacing-md);max-width:350px;height:400px;margin:0 auto;gap:var(--spacing-lg)}.timer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-lg);font-family:var(--ion-font-family);position:relative}.timer-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;height:32px}.set-timer-btn[_ngcontent-%COMP%]{--color: var(--ion-color-primary);font-size:var(--font-size-15xl)}.timer-modal-small[_ngcontent-%COMP%]{--width: 80%;--max-width: 320px;--height: 370px;--max-height: 80%}.timer-modal-small[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md)}.timer-modal-small[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm)}.timer-modal-small[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1;width:50%}.play-pause-btn[_ngcontent-%COMP%]{--color: var(--ion-color-success);font-size:var(--font-size-15xl);position:absolute;bottom:-20px}.play-pause-card-btn[_ngcontent-%COMP%]{width:60px;height:60px;--border-radius: 50%;--border-width: 2px}.timer-circle[_ngcontent-%COMP%]{width:200px;height:200px;position:relative;display:flex;align-items:center;justify-content:center}.progress-ring[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:rotate(-90deg)}.progress-ring-circle[_ngcontent-%COMP%]{transition:none}.time-content[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1}.time-display[_ngcontent-%COMP%]{color:var(--ion-text-color);font-size:var(--font-size-4xl);font-weight:var(--font-weight-black);line-height:1;font-family:var(--ion-font-family);letter-spacing:-1px}.time-label[_ngcontent-%COMP%]{font-size:var(--font-size-md);font-weight:var(--font-weight-medium);color:var(--ion-color-medium);margin-top:var(--spacing-xs);text-transform:uppercase;letter-spacing:1px}.floating-buttons[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md);align-items:center;justify-content:center;padding-bottom:var(--spacing-md)}.floating-btn[_ngcontent-%COMP%]{--border-width: 2px;--box-shadow: 0 4px 16px rgba(0, 0, 0, .1);--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;background:#fffc}.floating-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-xl)}.side-btn[_ngcontent-%COMP%]{width:50px;height:50px;--border-radius: 50%}.center-btn[_ngcontent-%COMP%]{width:60px;height:60px;--border-radius: 50%}.center-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-2xl)}@media (min-width: 769px){.timer[_ngcontent-%COMP%]{max-width:500px}}"]});let a=c;return a})();export{me as TimerPage};
